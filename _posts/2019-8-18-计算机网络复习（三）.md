---
layout:     post
title:      计网复习（三）
subtitle:   数据链路层
date:       2019-8-18
author:     Gavin
header-img: img/post-bg-miui-ux.jpg
catalog: true
tags:
    - 计算机网络
---

> 醉里不知烟波浩
> 
> 梦里依稀灯火寒

# 概念

1. 数据链路层主要负责***点到点的无差错的数据传输***
2. 数据链路层使用的信道
	+ 点对点信道（PPP协议）
	+ 广播信道（CSMA／CD协议）
3. 数据链路层的三个基本问题
	+ 封装成帧  
		在一段数据前后增加首尾部，形成帧定界
	+ 透明传输  
		*字符填充*或*字节填充*实现
	+ 差错控制  
		*CRC循环冗余检验*
4. ***PPP协议***  
	要求：
	
	+ 简单
	+ 封装成帧
	+ 透明性
	+ 多种网络层协议
	+ 多种链路
	+ 差错检测

	组成：
	
	+ 一个将IP数据报封装到串型链路的方法
	+ 链路控制协议（LCP）
	+ 网络控制协议（NCP）

	***PS：PPP协议是面向字节的***

	![](http://45.32.68.50/large/006tNc79ly1g6440ap1pij30im056wf6.jpg)
	
	透明传输：
	
	+ 同步传输（硬件进行*比特填充*）
	+ 异步传输（*特殊字符填充*）
	
	![](http://45.32.68.50/large/006tNc79ly1g6446hcpn7j30j90c4q5w.jpg)  
	
5. 数据链路层的子层
	+ 逻辑链路控制子层（LLC）
	+ 媒体接入控制子层（MAC）
6. ***CSMA／CD协议***  
	载波监听、多点接入、碰撞检测  
	
	+ 载波监听  
		每一个站在发送前检测总线上是否有其他计算机在发送数据，如果有，则暂时不发送
	+ 多点接入  
		许多计算机以多点接入方式连在一根总线上
	+ 碰撞检测  
		边发送，边检测  
		碰撞后立即停止传输，进行退避重传（*二进制指数退避*）
		
	**PS：最短有效帧长64子节**
	
	***PS：使用CSMA／CD的以太网只能进行半双工通信***
7. 设备
	+ 集线器
		+ 使用集线器的以太网在逻辑上是*一个总线网*
		+ 工作在*物理层*
	+ 交换机
	+ 网桥（早期）
8. MAC层  
	48位MAC地址，其中24位组织唯一标志符，24位拓展唯一标志符
9. 为网络层提供的服务
	+ 无确认的无连接服务
	+ 有确认的无连接服务
	+ 有确认的有连接服务
	
	*PS：有连接一定有确认*

10. 流量控制
	+ 停止-等待
	+ 滑动窗口
	
	窗口大小
	
	+ 停止-等待（=1,=1）
	+ 后退N帧（>1,=1)  
		$$ 1 \leq W_T \leq 2^n-1 $$
	+ 选择重传(>1,>1)  
		$$ W_R + W_T \leq 2^n $$  
		$$ W_T \leq 2^{n-1} $$
11. 可靠传输依赖*确认*和*超时重传*
12. 利用率  
	$$ U = (L/C)/T $$
	
	L：发送数据大小  
	C：发送速率  
	T：发送周期
13. 随机访问介质访问控制
	+ ALOHA协议
		+ 纯ALOHA（随机发，随机等待）
		+ 时隙ALOHA（时隙开始发，随机等待）
	+ CSMA协议
		+ 1-坚持CSMA（监听到信道忙，继续监听，直到空闲，立即发送）
		+ 非坚持CSMA（监听信道，忙则随机等待，再监听）
		+ p-坚持CSMA（监听信道，忙则随机等待，闲则p概率发送）
	+ CSMA／CA协议
	+ CSMA／CD协议

---

# 注意

1. 链路是一条无源的点到点的物理线路，一条链路只是一条通路的组成部分
2. 数据链路（逻辑链路）即是*物理链路+通信协议*
3. PPP协议的传输可以做到*无比特差错*，但都不是*可靠传输*
4. PPP协议不使用序号和确认的可靠传输原因
	+ 数据链路层出差错概率不大时，使用简单的PPP比较合理
	+ PPP的信息字段是IP数据报，PPP的可靠不能保证IP数据报的可靠
	+ 帧检验序列FCS字段可保证无差错接受
5. *以太网*提供的服务是*尽最大努力的不可靠的交付*
6. 以太网使用**曼彻斯特编码**